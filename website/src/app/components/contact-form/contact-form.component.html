<div class="contact-form-container">
  <h2>Contact Us</h2>
  
  <div *ngIf="showSuccessMessage" class="success-message">
    Your message has been sent successfully! We'll get back to you soon.
  </div>

  <div *ngIf="showErrorMessage" class="error-message-banner">
    There was an error sending your message. Please try again later or contact us directly at info@montreal4rent.com
  </div>

  <form (ngSubmit)="onSubmit()" #contactForm="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="formData.name"
        maxlength="60"
        class="form-control"
        [class.invalid]="isFieldInvalid('name')"
        [disabled]="isSending"
        placeholder="Enter your name"
        required
      />
      <div *ngIf="isFieldInvalid('name')" class="error-message">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="formData.email"
        maxlength="256"
        class="form-control"
        [class.invalid]="isEmailInvalid()"
        [disabled]="isSending"
        placeholder="Enter your email address"
        required
      />
      <div *ngIf="isEmailInvalid()" class="error-message">
        <span *ngIf="!formData.email.trim()">Email is required</span>
        <span *ngIf="formData.email.trim() && !isEmailValid()">Please enter a valid email address</span>
      </div>
    </div>

    <div class="form-group">
      <label for="subject">Subject</label>
      <input
        type="text"
        id="subject"
        name="subject"
        [(ngModel)]="formData.subject"
        class="form-control"
        [class.invalid]="isFieldInvalid('subject')"
        [disabled]="isSending"
        placeholder="Enter subject"
        required
      />
      <div *ngIf="isFieldInvalid('subject')" class="error-message">
        Subject is required
      </div>
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        id="message"
        name="message"
        [(ngModel)]="formData.message"
        rows="5"
        class="form-control"
        [class.invalid]="isFieldInvalid('message')"
        [disabled]="isSending"
        placeholder="Enter your message"
        required
      ></textarea>
      <div *ngIf="isFieldInvalid('message')" class="error-message">
        Message is required
      </div>
    </div>

    <button type="submit" class="submit-button" [disabled]="isSending">
      {{ isSending ? 'Sending...' : 'Submit' }}
    </button>
  </form>
</div>
